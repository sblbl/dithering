# Loyd-Steinberg Error Diffusion Dithering Script
Just a handcrafted script for image dithering, not generated by AI ðŸ‘Œ 

![pingu painting](https://c.tenor.com/xP_nPC9TBYYAAAAd/tenor.gif)

## Instructions

```
cd [REPO]
python3 dither.py [IMAGE_PATH]
```

## How it works

Image dithering is a processing technique that, usually, converts a color or grayscale image into a black and white one. Transformations like dithering treat images as bidimensional matrixes with a number of columns and rows equal to their width and height. Each element in this matrix contains the color value of one pixel.

The most naÃ¯ve approach for dithering is _threshold_, that simply convert a pixel value to black (0) or white (255) according to its value with respect of a threshold (usually 128, half of the number of gray tones that is 256). This strategy, however, produces high-contrast images where a lot of detail is lost.

Dithering with error diffusion, instead, diffuses the _quantisation error_ among pixels, that is the error of the approximation from grayscale to bitmap of a pixel is distributed among the surrounding pixels. Many error diffusion methods are available, and among them one of the most used is Loyd-Steinberg dithering.

<table>
  <caption>
    Dithering techniques in comparison
  </caption>
    <thead>
        <tr>
            <th scope="col">original</th>
            <th scope="col">threshold</th>
            <th scope="col">error diffusion</th>
        </tr>
        <tbody>
            <tr>
                <td><img src="/assets/original.jpeg"></td>
                <td><img src="/assets/threshold.png"></td>
                <td><img src="/assets/dithered.png"></td>
            </tr>
        </tbody>
  </thead>
</table>

### Loyd-Steinberg dithering

Loyd-Steinberg dithering proceeds from left to right, and from top to bottom of an image, one pixel at a time. 

<foreignObject width="100%">
    <style>
        .matrix-cell : {
            width: 25%;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
<table style="width: 100%; table-layout: fixed; ">
</foreignObject>

    <caption>
        Order of pixel processing in a 4 x 4 pixels image
    </caption>
    <thead>
        <tbody>
            <tr>
                <td class="matrix-cell">1</td>
                <td class="matrix-cell">2</td>
                <td class="matrix-cell">3</td>
                <td class="matrix-cell">5</td>
            </tr>
             <tr>
                <td class="matrix-cell">5</td>
                <td class="matrix-cell">6</td>
                <td class="matrix-cell">7</td>
                <td class="matrix-cell">8</td>
            </tr>
            <tr>
                <td class="matrix-cell">9</td>
                <td class="matrix-cell">10</td>
                <td class="matrix-cell">11</td>
                <td class="matrix-cell">12</td>
            </tr>
            <tr>
                <td class="matrix-cell"">13</td>
                <td class="matrix-cell"">14</td>
                <td class="matrix-cell"">15</td>
                <td class="matrix-cell"">16</td>
            </tr>
        </tbody>
  </thead>
</table>

When a pixel is processed by the algorithm, its grayscale value (0-255) is compared to a threshold, in this case 128; if the value is greater than the threshold, the pixel becomes white (255), otherwhise black (0). 

